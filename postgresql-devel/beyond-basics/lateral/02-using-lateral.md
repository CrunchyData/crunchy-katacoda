# Common LATERAL use-cases

## Set Returning Functions (SRFs)

One of the ways in which LATERAL is particularly useful is that it allows you to take the rows from one table and pass them in as arguments to a Set Returning Function (SRF).

SRFs are discussed in detail in the PostgreSQL documentation [here](https://www.postgresql.org/docs/current/functions-srf.html).

There's a number of built-in SRFs in PostgreSQL, the most commonly used one likely being 'generate_series'.

```sql
select * from generate_series(1,4) cross join generate_series(1,generate_series.generate_series) as g2 (gs2);
```{{execute}}

Notice how the 'generate_series' column from the first call to generate_series (where 1 and 4 are being passed in) is being passed in to second generate_series(), one time for each row, resulting in that many
additional rows being added to the output.

Another way to think of this is that for the first number in the series generated by the left side of the join, we got one result from the generate series that was run on the right hand side of the join, and
then for the second number in the left side series we got two rows from the generate series on the right hand side of the join because it was passed on "1,2", and so on with the values 3 and 4, giving us
three and four additional rows each respectively.

You may have also noticed that we didn't actually write 'lateral' in our query, what happened?

As it turns out, PostgreSQL, in some cases like when an SRF is being used, is able to figure out that what you were asking for was really a LATERAL and just automatically turn the query into a lateral join.

Of course, you can include lateral in the query if you want to be explicit and make it clear what's happening, like so:

```sql
select * from generate_series(1,4) cross join lateral generate_series(1,generate_series.generate_series) as g2 (gs2);
```{{execute}}

While this generate_series example isn't a terribly exciting case, it does a very good job of illustrating the mechanics of a lateral join.  There are a lot of real world situations where lateral joins are
particularly useful as we will see next.

## Wrap Up

We have now seen an example of how LATERAL joins can be useful with the generate_series SRF.  Next we will look at a few other examples which have more real-world use.
